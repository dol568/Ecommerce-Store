import{a as L,b as h,c as D,d as T,e as Y,f as ee,g as P,h as te,i as O,j as re,k as ie,l as ne,m as ae,n as se}from"./chunk-HKGWMXVF.js";import{a as R}from"./chunk-KQE5ZG5Q.js";import{a as X}from"./chunk-DXPTJ4HU.js";import"./chunk-VRCW3ZRF.js";import{d as M,f as N,j as K,l as Q,m as W}from"./chunk-HLRN3ODD.js";import{Bb as V,Cb as i,Kb as E,Mb as C,Nb as F,Ua as o,ba as v,cb as Z,d as c,e as g,ea as q,eb as l,f,ja as j,jb as t,jc as _,ka as z,kb as r,lb as p,lc as J,ob as B,rb as x,rc as U,tb as H}from"./chunk-HJS56J6Z.js";var b=class{constructor(){}static patternValidator(s,e){return d=>d.value?s.test(d.value)?null:e:null}};function ge(n,s){n&1&&(t(0,"span",14),i(1,"Password is required"),r())}var y=(n,s)=>({"text-success":n,"text-danger":s});function fe(n,s){if(n&1&&(t(0,"div",15)(1,"div",16),i(2," Must be at least 8 characters long "),r(),t(3,"div",16),i(4," Must contain at least 1 digit "),r(),t(5,"div",16),i(6," Must contain at least 1 uppercase character "),r(),t(7,"div",16),i(8," Must contain at least 1 lowercase character "),r(),t(9,"div",16),i(10," Must contain at least 1 special character "),r()()),n&2){let e=H();o(),l("ngClass",F(5,y,e.minLengthValid,!e.minLengthValid)),o(2),l("ngClass",F(8,y,e.requiresDigitValid,!e.requiresDigitValid)),o(2),l("ngClass",F(11,y,e.requiresUppercaseValid,!e.requiresUppercaseValid)),o(2),l("ngClass",F(14,y,e.requiresLowercaseValid,!e.requiresLowercaseValid)),o(2),l("ngClass",F(17,y,e.requiresSpecialCharsValid,!e.requiresSpecialCharsValid))}}var k=n=>({"is-invalid":n}),oe=(()=>{var s,e,d;let u=class u{constructor(){g(this,s,void 0);g(this,e,void 0);g(this,d,void 0);f(this,s,v(R)),f(this,e,v(M)),f(this,d,v(N)),this.emailOnly=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,this.returnUrl=c(this,e).snapshot.queryParams.returnUrl??"/"}ngOnInit(){this.signUpForm=new Y({username:new P("",[h.required]),email:new P("",[h.pattern(this.emailOnly),h.required]),password:new P("",h.compose([h.required,h.minLength(8),h.maxLength(30),b.patternValidator(new RegExp("(?=.*[0-9])"),{requiresDigit:!0}),b.patternValidator(new RegExp("(?=.*[A-Z])"),{requiresUppercase:!0}),b.patternValidator(new RegExp("(?=.*[a-z])"),{requiresLowercase:!0}),b.patternValidator(new RegExp("(?=.*[$@^!%*?&])"),{requiresSpecialChars:!0})]))})}submitFunc(){c(this,s).register(this.signUpForm.value).subscribe({next:()=>c(this,d).navigate([this.returnUrl]),error:A=>console.error(A)})}get f(){return this.signUpForm.controls}get passwordValid(){return this.signUpForm.controls.password.errors===null}get requiredValid(){return!this.signUpForm.controls.password.hasError("required")}get minLengthValid(){return!this.signUpForm.controls.password.hasError("minlength")}get requiresDigitValid(){return!this.signUpForm.controls.password.hasError("requiresDigit")}get requiresUppercaseValid(){return!this.signUpForm.controls.password.hasError("requiresUppercase")}get requiresLowercaseValid(){return!this.signUpForm.controls.password.hasError("requiresLowercase")}get requiresSpecialCharsValid(){return!this.signUpForm.controls.password.hasError("requiresSpecialChars")}};s=new WeakMap,e=new WeakMap,d=new WeakMap,u.\u0275fac=function(m){return new(m||u)},u.\u0275cmp=q({type:u,selectors:[["app-register"]],standalone:!0,features:[E],decls:27,vars:13,consts:[[1,"signup"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","username"],["type","text","id","username","formControlName","username",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["for","email"],["type","text","id","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password"],["type","password","id","password","name","password","formControlName","password",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"mb-4"],["type","submit",1,"btn","btn-lg","btn-block",2,"background-color","#5bb462",3,"disabled"],[1,"text-danger"],[1,"mt-3"],[3,"ngClass"]],template:function(m,a){m&1&&(t(0,"div",0)(1,"h3"),i(2,"Sign up"),r(),p(3,"hr"),t(4,"form",1),x("ngSubmit",function(){return a.submitFunc()}),t(5,"div",2)(6,"label",3),i(7,"Name"),r(),p(8,"input",4),t(9,"div",5),i(10," Please enter a valid name "),r()(),t(11,"div",2)(12,"label",6),i(13,"Email"),r(),p(14,"input",7),t(15,"div",5),i(16," Please enter a valid email address "),r()(),t(17,"div",2)(18,"label",8),i(19,"Password"),r(),p(20,"input",9),t(21,"div",5),Z(22,ge,2,0,"span",10)(23,fe,11,20,"div",11),r()(),p(24,"hr",12),t(25,"button",13),i(26,"Sign Up "),r()()()),m&2&&(o(4),l("formGroup",a.signUpForm),o(4),l("ngClass",C(7,k,a.signUpForm.get("username").errors&&a.signUpForm.get("username").touched)),o(6),l("ngClass",C(9,k,a.signUpForm.get("email").errors&&a.signUpForm.get("email").touched)),o(6),l("ngClass",C(11,k,a.f.password.touched&&!a.passwordValid)),o(2),l("ngIf",a.f.password.touched&&!a.requiredValid),o(),l("ngIf",a.requiredValid),o(2),l("disabled",!a.signUpForm.valid))},dependencies:[se,O,L,D,T,re,ie,U,_,J],styles:[".signup[_ngcontent-%COMP%]{width:80%;margin:auto}"]});let n=u;return n})();var le=n=>({"is-invalid":n}),me=(()=>{var s,e,d,u;let S=class S{constructor(){g(this,s,void 0);g(this,e,void 0);g(this,d,void 0);g(this,u,void 0);f(this,s,v(N)),f(this,e,v(M)),f(this,d,v(R)),f(this,u,v(X)),this.emailOnly=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i}ngOnInit(){this.returnUrl=c(this,e).snapshot.queryParams.returnUrl}isValidateTextTrue(m){return!!(m.touched&&m.valid)}isValidateTextFalse(m){return!!(m.touched&&m.invalid)}submitFunc(m,a){a.preventDefault(),c(this,d).login(m.value).subscribe({next:()=>{c(this,s).navigate([K]),this.loadCart()},error:w=>console.error(w)})}loadCart(){c(this,u).getCart().subscribe({error:m=>console.error(m)})}};s=new WeakMap,e=new WeakMap,d=new WeakMap,u=new WeakMap,S.\u0275fac=function(a){return new(a||S)},S.\u0275cmp=q({type:S,selectors:[["app-login"]],standalone:!0,features:[E],decls:23,vars:7,consts:[[1,"main"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3"],["for","username"],["type","text","id","username","required","","name","username","ngModel","",1,"form-control",3,"ngClass"],["username","ngModel"],[1,"invalid-feedback"],["for","password"],["type","password","id","password","required","","name","password","ngModel","",1,"form-control",3,"ngClass"],["password","ngModel"],["type","submit",1,"btn","btn-success","btn-lg","btn-block",3,"disabled"]],template:function(a,w){if(a&1){let I=B();t(0,"div",0)(1,"h3"),i(2,"Login"),r(),p(3,"hr"),t(4,"form",1,2),x("ngSubmit",function(G){j(I);let de=V(5);return z(w.submitFunc(de,G))}),t(6,"div",3)(7,"label",4),i(8,"Email"),r(),p(9,"input",5,6),t(11,"div",7),i(12," Please enter a valid email address "),r()(),t(13,"div",3)(14,"label",8),i(15,"Password"),r(),p(16,"input",9,10),t(18,"div",7),i(19," Please enter a password "),r()(),p(20,"br"),t(21,"button",11),i(22,"Log in "),r()()()}if(a&2){let I=V(5),$=V(10),G=V(17);o(9),l("ngClass",C(3,le,w.isValidateTextFalse($))),o(7),l("ngClass",C(5,le,w.isValidateTextFalse(G))),o(5),l("disabled",I.invalid)}},dependencies:[ae,O,L,D,T,ne,te,ee,U,_],styles:[".main[_ngcontent-%COMP%]{width:80%;margin:auto}"]});let n=S;return n})();var Ie=[{path:Q,component:me},{path:W,component:oe}];export{Ie as ACCOUNT_ROUTES};
