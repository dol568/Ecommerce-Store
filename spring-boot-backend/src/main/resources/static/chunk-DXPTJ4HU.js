import{a as d,i as b}from"./chunk-VRCW3ZRF.js";import{X as p,ba as m,d as c,e as n,f as l,m as u,p as h,t as o,zc as f}from"./chunk-HJS56J6Z.js";var U=(()=>{var r;let a=class a{constructor(){n(this,r,void 0);l(this,r,m(f)),this.baseUrl=d+b,this.cartSource=new u(null),this.cart$=this.cartSource.asObservable()}getCart(){return localStorage.getItem("token")?c(this,r).get(this.baseUrl).pipe(o(e=>{let t=e.data;return this.cartSource.next(t),t})):(this.cartSource.next(null),h(null))}editCart(e){return c(this,r).post(this.baseUrl,e).pipe(o(t=>{let i=t.data;return this.cartSource.next(i),i.cartItems}))}getCurrentCartValue(){return this.cartSource.value}removeItemFromCart(e){return c(this,r).delete(this.baseUrl+"/"+e).pipe(o(t=>{let i=t.data;return this.cartSource.next(i),i.cartItems}))}clearCart(){return c(this,r).delete(this.baseUrl).pipe(o(e=>{let t=e.data;return this.cartSource.next(t),t.cartItems}))}logoutCart(){this.cartSource.next(null)}};r=new WeakMap,a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=p({token:a,factory:a.\u0275fac,providedIn:"root"});let s=a;return s})();export{U as a};
